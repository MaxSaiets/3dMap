# 3D Map Generator

Покращена версія Map2Model з інтеграцією рельєфу, покращеною топологією та підтримкою мультиколірного друку.

## Архітектура

### Backend (Python FastAPI)
- **OSMnx** - завантаження даних OpenStreetMap
- **Shapely** - геометричні операції 2D
- **Trimesh** - маніпуляції з 3D мешами
- **Rasterio** - обробка рельєфу (DEM)
- **FastAPI** - REST API

### Frontend (React + Next.js)
- **React** - UI фреймворк
- **Leaflet** - 2D карта для вибору області
- **Three.js** - 3D візуалізація та прев'ю
- **React Three Fiber** - декларативна обгортка Three.js

## Покращення порівняно з Map2Model

1. ✅ **Рельєф (Terrain)** - інтеграція DEM даних для реалістичних моделей
2. ✅ **Покращена топологія** - watertight геометрія для надійного друку
3. ✅ **Буферизація доріг** - фізична ширина доріг залежно від типу
4. ✅ **Об'єднання геометрії** - уникнення перетинів та артефактів
5. ✅ **3MF експорт** - підтримка мультиколірного друку (AMS/MMU)
6. ✅ **Вода як об'єкт** - булеве віднімання для створення западин
7. ✅ **Скатні дахи** - алгоритм Straight Skeleton для реалістичних дахів

## Встановлення

### Backend

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload
```

### Frontend

```bash
cd frontend
npm install
npm run dev
```

## Використання

1. Відкрийте frontend (http://localhost:3000)
2. Виберіть область на карті (прямокутник, коло або полігон)
3. Налаштуйте параметри генерації
4. Перегляньте 3D прев'ю
5. Згенеруйте та завантажте STL/3MF файл

## Інтеграція з MODIK

Проект розроблений для інтеграції в MODIK як окремий модуль 3D-конфігуратора.

