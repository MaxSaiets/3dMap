# –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

## –ü—Ä–æ–±–ª–µ–º–∞
–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª–∞ –¥–∞–Ω—ñ –¥–ª—è –≤—Å—å–æ–≥–æ grid_bbox (–≤—Å—ñ –∑–æ–Ω–∏ —Ä–∞–∑–æ–º) –∑–∞–º—ñ—Å—Ç—å –∫–æ–∂–Ω–æ—ó –∑–æ–Ω–∏ –æ–∫—Ä–µ–º–æ, —â–æ —Å–ø—Ä–∏—á–∏–Ω—è–ª–æ:
- –¢—Ä–∏–≤–∞–ª–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (10+ —Ö–≤–∏–ª–∏–Ω)
- –í–µ–ª–∏–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- –ù–µ–ø–æ—Ç—Ä—ñ–±–Ω–µ –∫–µ—à—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö –æ–±'—î–º—ñ–≤ –¥–∞–Ω–∏—Ö

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∫–µ—à—ñ–≤:

```bash
cd H:\3dMap\backend
python disable_cache.py
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –í–∏–º–∫–Ω–µ OSMnx cache (`ox.settings.use_cache = False`)
- ‚úÖ –í–∏–º–∫–Ω–µ PBF disk cache (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–º–∫–Ω–µ–Ω–æ)
- ‚úÖ –í–∏–¥–∞–ª–∏—Ç—å city cache –∑ `main.py`

### 2. –ó–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ (–≤–∂–µ –≤–Ω–µ—Å–µ–Ω—ñ –≤ main.py):

‚úÖ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ç–µ–ø–µ—Ä —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∑–æ–Ω–∏ –æ–∫—Ä–µ–º–æ:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `request.north/south/east/west` (bbox –∑–æ–Ω–∏) –∑–∞–º—ñ—Å—Ç—å `grid_bbox_latlon`
   - Padding –æ–±–º–µ–∂–µ–Ω–æ –¥–æ 100–º (–∑–∞–º—ñ—Å—Ç—å 400–º)

‚úÖ **–û–±—Ä—ñ–∑–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–æ –ø–æ–ª—ñ–≥–æ–Ω—É –∑–æ–Ω–∏:**
   - –ü—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω—ñ –æ–¥—Ä–∞–∑—É –æ–±—Ä—ñ–∑–∞—é—Ç—å—Å—è –ø–æ `zone_polygon_local`
   - –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é/–º–µ—à–∏–Ω–≥–æ–º

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Overpass API –∑–∞–º—ñ—Å—Ç—å PBF (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ):
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `OSM_SOURCE` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (–∞–±–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫ "overpass")
- PBF –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ `OSM_SOURCE=pbf` –≤ `.env`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:
- ‚ö° –®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: –¥–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∑–æ–Ω–∏ (–Ω–µ –¥–ª—è –≤—Å—å–æ–≥–æ —Ä–µ–≥—ñ–æ–Ω—É)
- üíæ –ú–µ–Ω—à–µ –ø–∞–º'—è—Ç—ñ: –Ω–µ–º–∞—î –∫–µ—à—É–≤–∞–Ω–Ω—è, –¥–∞–Ω—ñ –æ–±—Ä—ñ–∑–∞—é—Ç—å—Å—è –æ–¥—Ä–∞–∑—É
- üéØ –¢–æ—á–Ω—ñ—Å—Ç—å: –¥–∞–Ω—ñ –æ–±—Ä—ñ–∑–∞—é—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ–ª—ñ–≥–æ–Ω—É –∑–æ–Ω–∏ –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- **–ö–µ—à –≤–∏–º–∫–Ω–µ–Ω–æ**: —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å–≤—ñ–∂—ñ –¥–∞–Ω—ñ (—Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö, –∞–ª–µ –≥–∞—Ä–∞–Ω—Ç—É—î –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å)
- **Overpass API**: –º–æ–∂–µ –º–∞—Ç–∏ rate limits –ø—Ä–∏ –±–∞–≥–∞—Ç—å–æ—Ö –∑–∞–ø–∏—Ç–∞—Ö - —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- **PBF —Ä–µ–∂–∏–º**: —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å –¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö –∑–æ–Ω, –º–æ–∂–Ω–∞ —É–≤—ñ–º–∫–Ω—É—Ç–∏ PBF (`OSM_SOURCE=pbf`), –∞–ª–µ –≤—ñ–Ω –ø–æ—Ç—Ä–µ–±—É—î ~400-600MB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É


